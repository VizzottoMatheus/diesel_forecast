#setwd('/Users/matheusvizzottodossantos/Desktop/Projetos/R/ECO02018/Article/')
source("get_data.R")
library(forecast)
library(lubridate)
library(TSstudio)
library(ggplot2)
library(scales)
library(zoo)
library(strucchange)
library(tseries)
library(plotly)
df_cidades <- oil_data_cities()
df_rs <- oil_data_state()
df_cidades <- oil_data_cities()
df_rs <- oil_data_state()
path <- "https://www.gov.br/anp/pt-br/centrais-de-conteudo/dados-abertos/arquivos/vdpb/vendas-derivados-petroleo-e-etanol/vendas-derivados-petroleo-etanol-m3-1990-2021.csv"
derivados <- read.csv(path, sep = ";", dec = ",",  encoding = "UTF-8")
oil_data_state <- function() {
path <- "https://www.gov.br/anp/pt-br/centrais-de-conteudo/dados-abertos/arquivos/vdpb/vendas-derivados-petroleo-e-etanol/vendas-derivados-petroleo-etanol-m3-1990-2021.csv"
derivados <- read.csv(path, sep = ";", dec = ",",  encoding = "UTF-8")
colnames(derivados) <- c("ANO", "MES", "GRANDE.REGIAO", "UNIDADE.DA.FEDERACAO", "PRODUTO", "VENDAS")
oleo_diesel <- tail(unique(derivados$PRODUTO),1)
diesel_estados <- filter(derivados, PRODUTO == oleo_diesel)
diesel_rs <- filter(diesel_estados, UNIDADE.DA.FEDERACAO == "RIO GRANDE DO SUL")
diesel_rs$MES <- diesel_rs$MES %>%
gsub('JAN', "01", .) %>%
gsub('FEV', "02", .) %>%
gsub('MAR', "03", .) %>%
gsub('ABR', "04", .) %>%
gsub('MAI', "05", .) %>%
gsub('JUN', "06", .) %>%
gsub('JUL', "07", .) %>%
gsub('AGO', "08", .) %>%
gsub('SET', "09", .) %>%
gsub('OUT', "10", .) %>%
gsub('NOV', "11", .) %>%
gsub('DEZ', "12", .)
diesel_rs$ANO_MES <- as.Date(paste0(diesel_rs$ANO, "-", diesel_rs$MES, "-01"))
diesel_rs <- arrange(diesel_rs, ANO_MES)
df_diesel_rs <- select(diesel_rs, c("ANO_MES", "VENDAS"))
return(df_diesel_rs)
}
df <- oil_data_state()
tail(df)
#setwd('/Users/matheusvizzottodossantos/Desktop/Projetos/R/ECO02018/Article/')
source("get_data.R")
df_rs <- oil_data_state()
getwd()
setwd("C:/Users/user/Projetos/diesel_forecast")
df_rs <- oil_data_state()
df_cidades <- oil_data_cities()
df_cidades
df_cidades
library(dplyr)
getcwd()
getwd()
setwd('../')
getwd()
df_rs <- oil_data_state()
#setwd('/Users/matheusvizzottodossantos/Desktop/Projetos/R/ECO02018/Article/')
source("get_data.R")
#setwd('/Users/matheusvizzottodossantos/Desktop/Projetos/R/ECO02018/Article/')
setwd("C:/Users/user/Projetos/diesel_forecast/")
source("get_data.R")
df_rs <- oil_data_state()
oil_data_state <- function() {
path <- "https://www.gov.br/anp/pt-br/centrais-de-conteudo/dados-abertos/arquivos/vdpb/vendas-derivados-petroleo-e-etanol/vendas-derivados-petroleo-etanol-m3-1990-2021.csv"
derivados <- read.csv(path, sep = ";", dec = ",",  encoding = "UTF-8")
colnames(derivados) <- c("ANO", "MES", "GRANDE.REGIAO", "UNIDADE.DA.FEDERACAO", "PRODUTO", "VENDAS")
oleo_diesel <- tail(unique(derivados$PRODUTO),1)
diesel_estados <- filter(derivados, PRODUTO == oleo_diesel)
diesel_rs <- filter(diesel_estados, UNIDADE.DA.FEDERACAO == "RIO GRANDE DO SUL")
diesel_rs$MES <- diesel_rs$MES %>%
gsub('JAN', "01", .) %>%
gsub('FEV', "02", .) %>%
gsub('MAR', "03", .) %>%
gsub('ABR', "04", .) %>%
gsub('MAI', "05", .) %>%
gsub('JUN', "06", .) %>%
gsub('JUL', "07", .) %>%
gsub('AGO', "08", .) %>%
gsub('SET', "09", .) %>%
gsub('OUT', "10", .) %>%
gsub('NOV', "11", .) %>%
gsub('DEZ', "12", .)
diesel_rs$ANO_MES <- as.Date(paste0(diesel_rs$ANO, "-", diesel_rs$MES, "-01"))
diesel_rs <- arrange(diesel_rs, ANO_MES)
df_diesel_rs <- select(diesel_rs, c("ANO_MES", "VENDAS"))
return(df_diesel_rs)
}
df_rs <- get_doil_data_state() # PROBLEMA
df_rs <- oil_data_state() # PROBLEMA
df_rs <- oil_data_state() # PROBLEMA
#setwd('/Users/matheusvizzottodossantos/Desktop/Projetos/R/ECO02018/Article/')
setwd("C:/Users/user/Projetos/diesel_forecast/")
source("get_data.R")
df_rs <- oil_data_state() # PROBLEMA
#setwd('/Users/matheusvizzottodossantos/Desktop/Projetos/R/ECO02018/Article/')
setwd("C:/Users/user/Projetos/diesel_forecast/")
source("get_data.R")
df_rs <- oil_data_state() # PROBLEMA
head(df_rs)
tail(df_rs)
date_min_y <- year(min(df_rs$ANO_MES))
date_min_m <- month(min(df_rs$ANO_MES))
library(forecast)
library(lubridate)
library(TSstudio)
library(ggplot2)
library(scales)
library(zoo)
library(strucchange)
library(tseries)
library(plotly)
df_rs <- oil_data_state()
